<template>
  <div class="container"
    @mousedown="drawNewImage($event.clientX, $event.clientY)"
    @mousemove="drawImage($event.clientX, $event.clientY)"
    @mouseup="stopDraw">
    <moving-logo :scale="0"/>
    <moving-logo :scale="1"/>
    <text-section :paragraphs="paragraphs" />
    <photo-canvas
      ref="photoCanvas"
    />
  </div>
</template>

<script>
import TextSection from '@/components/TextSection'
import MovingLogo from '@/components/UI/MovingLogo'
import PhotoCanvas from '@/components/UI/PhotoCanvas'
export default {
  components: { TextSection, MovingLogo, PhotoCanvas },
  data: () => ({
    counter: 2,
    width: window.innerWidth,
    height: window.innerHeight,
    paragraphs: [
      {id: 1, content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam at metus maximus quam tempus cursus et vel justo. Ut finibus molestie nulla a pellentesque. ipsum leo, gravida vel ultrices a, dignissim at magna. Vestibulum a felis aliquam, efficitur dolor ac, elementum quam. Duis lobortis erat sed enim volutpat, vel scelerisque arcu suscipit. Pellentesque elementum sed dolor in semper. Fusce dapibus lacinia est, sit amet tincidunt nunc congue vitae. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Vestibulum interdum erat non turpis pellentesque venenatis. Curabitur mattis mi ac nibh convallis, at tempor diam tempor. Proin lacus dui, elementum ac lacus eu, porttitor interdum velit. Donec fermentum, sem sit amet dignissim porta, tellus nisl fermentum metus, id molestie nunc lacus sit amet diam. Donec dictum nunc sed mauris facilisis, at vestibulum ex porta. Praesent eget justo eu ante mattis scelerisque eu nec ex."},
      {id: 2, content: "Vivamus facilisis scelerisque congue. Aenean hendrerit, ex in dignissim mattis, erat lorem dignissim libero, ac convallis est erat ut nisi. Nam consectetur purus a eros aliquet molestie. Ut lorem ligula, suscipit sed hendrerit ut, euismod in justo. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cras vel finibus massa, fringilla semper metus. Nam lobortis maximus scelerisque."},
      {id: 3, content: "Cras quis consectetur dui, et commodo purus. Aliquam erat volutpat. Pellentesque at risus leo. Proin accumsan velit erat, sit amet ornare eros vehicula quis. Proin ac dui ac sem efficitur efficitur eu ut velit. Nam suscipit luctus semper. Integer in interdum magna. Fusce sit amet feugiat libero. Mauris et mi nulla."},
      {id: 4, content: "Sed vitae purus mollis, convallis dolor vitae, commodo lacus. Donec justo lacus, sodales a eros lacinia, semper posuere odio. Aenean fermentum massa vitae tortor dignissim, at lobortis tortor sodales. Proin varius ex a augue tempor porttitor. Duis fringilla justo id massa laoreet consequat. Sed consequat vitae neque ut imperdiet. Aliquam nibh nibh, congue vel tempor quis, gravida ut tellus. Sed vel nisi sit amet orci euismod volutpat ac quis odio. Phasellus eu mauris malesuada elit feugiat maximus. Sed posuere mi eget tortor lacinia eleifend. Nam ullamcorper, enim quis commodo pellentesque, turpis turpis tincidunt metus, vel luctus nibh justo quis est. Phasellus nec nisl quis est pellentesque porttitor sed id ipsum. Ut aliquet ipsum arcu, vel porta dolor ullamcorper vitae. Vestibulum quis sem sed erat condimentum tincidunt sit amet nec arcu. Integer malesuada dapibus tempus."},
      {id: 5, content: "Nulla blandit mattis aliquet. Donec ac iaculis nisi. Etiam at faucibus elit. Nunc urna velit, ullamcorper non tristique in, aliquet eget ex. Vivamus leo urna, consequat nec purus ac, elementum rutrum turpis. In lacinia dolor at nibh pellentesque consectetur. Duis at sapien non metus porttitor consequat at vel lectus. Sed eu magna eu mi consectetur iaculis non eget odio. Aliquam at elit justo."}
    ]
  }),
  created() {
    window.addEventListener("resize", this.resize);
  },
  unmounted() {
    window.removeEventListener("resize", this.resize);
  },
  methods: {
    resize() {
      this.$refs.photoCanvas.preserveCanvasData()
    },
    drawNewImage(x, y) {this.$refs.photoCanvas.drawNewImage(x, y)},
    drawImage(x, y) {this.$refs.photoCanvas.drawImage(x, y)},
    stopDraw() {this.$refs.photoCanvas.stopDraw()}
  }
}
</script>

<style>
* {
  padding: 0;
  margin: 0;
  font-size: 23px;
  font-family: Cambria, Arial, Verdana, sans-serif;
}
#app, .container {
  width: 100vw;
  height: 100vh;
}
</style>
